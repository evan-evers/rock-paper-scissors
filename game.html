<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button class="buttonChoice" id="buttonRock">Rock</button>
    <button class="buttonChoice" id="buttonPaper">Paper</button>
    <button class="buttonChoice" id="buttonScissors">Scissors</button>
    <div id="results"></div>

    <script>
        let humanScore = 0;
        let computerScore = 0;

        function GetComputerChoice()
        {
            let choice = Math.floor(Math.random() * 3);

            switch(choice)
            {
                case(0):
                    return "Rock!";
                break;

                case(1):
                    return "Paper!";
                break;

                case(2):
                    return "Scissors!";
                break;
            }
        }

        function GetHumanChoice()
        {
            let choice = prompt("Enter your choice:");
            choice = choice.toLowerCase();

            switch(choice)
            {
                case("rock"):
                    return "Rock!";
                break;

                case("paper"):
                    return "Paper!";
                break;

                case("scissors"):
                    return "Scissors!";
                break;
            }
        }

        function playRound(humanChoice)
        {
            // No functionality if game has already been won
            if(humanScore >= 5 || computerScore >= 5)
            {
                return;
            }

            let textDiv = document.querySelector("#results");
            textDiv.querySelectorAll('*').forEach(n => n.remove());

            let computerChoice = GetComputerChoice();

            const humanChoicePara = document.createElement("p");
            humanChoicePara.textContent = `Human chose: ${humanChoice}`;
            textDiv.appendChild(humanChoicePara);

            const computerChoicePara = document.createElement("p");
            computerChoicePara.textContent = `Computer chose: ${computerChoice}`;
            textDiv.appendChild(computerChoicePara);


            const gameResultPara = document.createElement("p");
            if(humanChoice === computerChoice)
            {
                gameResultPara.textContent = "It's a tie!";
            }
            else if(humanChoice === "Rock!" && computerChoice === "Scissors!" || humanChoice === "Paper!" && computerChoice === "Rock!" || humanChoice === "Scissors!" && computerChoice === "Paper!" )
            {
                gameResultPara.textContent = "Human wins!";
                humanScore++;
            }
            else
            {
                gameResultPara.textContent = "Computer wins!";
                computerScore++;
            }
            textDiv.appendChild(gameResultPara);



            const humanScorePara = document.createElement("p");
            humanScorePara.textContent = `Human score: ${humanScore}`;
            textDiv.appendChild(humanScorePara);

            const computerScorePara = document.createElement("p");
            computerScorePara.textContent = `Computer score: ${computerScore}`;
            textDiv.appendChild(computerScorePara);



            if(humanScore >= 5)
            {
                const computerScorePara = document.createElement("p");
                computerScorePara.textContent = "Human wins the game!";
                textDiv.appendChild(computerScorePara);
            }

            if(computerScore >= 5)
            {
                const computerScorePara = document.createElement("p");
                computerScorePara.textContent = "Computer wins the game!";
                textDiv.appendChild(computerScorePara);
            }
        }



        const buttons = document.querySelectorAll(".buttonChoice");
        
        buttons.forEach((element) => element.addEventListener("click", (event) => {
            switch(element.id)
            {
                case("buttonRock"):
                    playRound("Rock!");
                break;

                case("buttonPaper"):
                    playRound("Paper!");
                break;

                case("buttonScissors"):
                    playRound("Scissors!");
                break;
            }
        }));



        // playGame();
    </script>
</body>
</html>